{"version":3,"sources":["index.js"],"names":["states","NAMESPACE","CLASS_PATTERN","RegExp","updateClasses","state","moving","setTimeout","slideElements","forEach","element","i","className","replaceAll","relativeIndex","Math","abs","slide","classList","add","moveNext","slideCount","length","movePrev","initShiftSlider","id","Array","from","querySelectorAll","addEventListeners","next","querySelector","prev","addEventListener","document","sliderElms"],"mappings":";AAAA,IAAMA,EAAS,GACTC,EAAY,cACZC,EAAgB,IAAIC,OAAUF,GAAAA,OAAAA,EAAkB,SAAA,KAEtD,SAASG,EAAcC,GAClBA,EAAMC,SAEVD,EAAMC,QAAS,EAEfC,WAAW,WACVF,EAAMC,QAAS,GACb,KAEHD,EAAMG,cAAcC,QAAQ,SAACC,EAASC,GAErCD,EAAQE,UAAYF,EAAQE,UAAUC,WAAWX,EAAe,IAE1DY,IAAAA,EAAgBC,KAAKC,IAAIL,EAAIN,EAAMY,OACrCN,EAAIN,EAAMY,MACbP,EAAQQ,UAAUC,IACdlB,GAAAA,OAAAA,EACAA,SAAAA,GAAAA,OAAAA,EAAkBa,UAAAA,OAAAA,IAEZH,EAAIN,EAAMY,MACpBP,EAAQQ,UAAUC,IACdlB,GAAAA,OAAAA,EACAA,SAAAA,GAAAA,OAAAA,EAAkBa,UAAAA,OAAAA,IAGtBJ,EAAQQ,UAAUC,IAAOlB,GAAAA,OAAAA,EAAzB,gBAKH,SAASmB,EAASf,GACbA,IAAAA,EAAMC,OAAND,CAEEgB,IAAAA,EAAahB,EAAMG,cAAcc,OAEvCjB,EAAMY,QACFZ,EAAMY,OAASI,IAAYhB,EAAMY,MAAQ,GAE7Cb,EAAcC,IAGf,SAASkB,EAASlB,GACbA,IAAAA,EAAMC,OAAND,CAEEgB,IAAAA,EAAahB,EAAMG,cAAcc,OAEvCjB,EAAMY,QACFZ,EAAMY,MAAQ,IAAGZ,EAAMY,MAAQI,EAAa,GAEhDjB,EAAcC,IAGf,SAASmB,EAAgBC,EAAIf,GACtBF,IAAAA,EAAgBkB,MAAMC,KAC3BjB,EAAQkB,iBAA0B3B,SAAAA,OAAAA,EADb,YAItBD,EAAOyB,GAAM,CACZf,QAAAA,EACAF,cAAAA,EACAF,QAAQ,EACRW,MAAO,GAGRb,EAAcJ,EAAOyB,IACrBI,EAAkB7B,EAAOyB,IAG1B,SAASI,EAAkBxB,GACpBK,IAAAA,EAAUL,EAAMK,QAChBoB,EAAOpB,EAAQqB,cAAuB9B,SAAAA,OAAAA,EAA5C,WACM+B,EAAOtB,EAAQqB,cAAuB9B,SAAAA,OAAAA,EAA5C,WAEA6B,EAAKG,iBAAiB,QAAS,WAAMb,OAAAA,EAASf,KAC9C2B,EAAKC,iBAAiB,QAAS,WAAMV,OAAAA,EAASlB,KAI/C6B,UACCA,SAASD,iBAAiB,mBAAoB,WAGxC,IAFCE,IAAAA,EAAaD,SAASN,iBAA0B3B,SAAAA,OAAAA,EAAtD,MAESU,EAAI,EAAGA,EAAIwB,EAAWb,OAAQX,IACtCa,EAAgBb,EAAGwB,EAAWxB","file":"src.92c3cdc5.js","sourceRoot":"../src","sourcesContent":["const states = {};\nconst NAMESPACE = \"ShiftSlider\";\nconst CLASS_PATTERN = new RegExp(`${NAMESPACE}-\\\\S*`, \"g\");\n\nfunction updateClasses(state) {\n\tif (state.moving) return;\n\n\tstate.moving = true;\n\n\tsetTimeout(() => {\n\t\tstate.moving = false;\n\t}, 500);\n\n\tstate.slideElements.forEach((element, i) => {\n\t\t// remove all previous dynamic classes\n\t\telement.className = element.className.replaceAll(CLASS_PATTERN, \"\");\n\n\t\tconst relativeIndex = Math.abs(i - state.slide);\n\t\tif (i < state.slide) {\n\t\t\telement.classList.add(\n\t\t\t\t`${NAMESPACE}-prev`,\n\t\t\t\t`${NAMESPACE}-prev-${relativeIndex}`\n\t\t\t);\n\t\t} else if (i > state.slide) {\n\t\t\telement.classList.add(\n\t\t\t\t`${NAMESPACE}-next`,\n\t\t\t\t`${NAMESPACE}-next-${relativeIndex}`\n\t\t\t);\n\t\t} else {\n\t\t\telement.classList.add(`${NAMESPACE}-current`);\n\t\t}\n\t});\n}\n\nfunction moveNext(state) {\n\tif (state.moving) return;\n\n\tconst slideCount = state.slideElements.length;\n\n\tstate.slide++;\n\tif (state.slide >= slideCount) state.slide = 0;\n\n\tupdateClasses(state);\n}\n\nfunction movePrev(state) {\n\tif (state.moving) return;\n\n\tconst slideCount = state.slideElements.length;\n\n\tstate.slide--;\n\tif (state.slide < 0) state.slide = slideCount - 1;\n\n\tupdateClasses(state);\n}\n\nfunction initShiftSlider(id, element) {\n\tconst slideElements = Array.from(\n\t\telement.querySelectorAll(`[data-${NAMESPACE}-item]`)\n\t);\n\n\tstates[id] = {\n\t\telement,\n\t\tslideElements,\n\t\tmoving: false,\n\t\tslide: 0,\n\t};\n\n\tupdateClasses(states[id]);\n\taddEventListeners(states[id]);\n}\n\nfunction addEventListeners(state) {\n\tconst element = state.element;\n\tconst next = element.querySelector(`[data-${NAMESPACE}-next]`);\n\tconst prev = element.querySelector(`[data-${NAMESPACE}-prev]`);\n\n\tnext.addEventListener(\"click\", () => moveNext(state));\n\tprev.addEventListener(\"click\", () => movePrev(state));\n}\n\n// make it rain\ndocument &&\n\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\tconst sliderElms = document.querySelectorAll(`[data-${NAMESPACE}]`);\n\n\t\tfor (let i = 0; i < sliderElms.length; i++)\n\t\t\tinitShiftSlider(i, sliderElms[i]);\n\t});\n"]}